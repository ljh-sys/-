# Gemini CLI 高级功能详解

## 前言

本指南旨在回应你对于了解 Gemini CLI **所有**功能的需求，特别是关于 `/` 命令弹出的完整工具列表，以及 `!` 命令能够执行的全部操作。

---

## 1. `/` 命令：我的完整工具箱

当你按下 `/` 时，会显示出我当前所拥有的全部“内置工具”。这些工具是我执行具体、结构化任务的基础。以下是当前版本中我可用的所有工具及其功能的完整列表：

*   **`list_directory`**:
    *   **功能**: 列出指定目录下的文件和子目录。可以看作是 `ls` 命令的一个封装版本。

*   **`read_file`**:
    *   **功能**: 读取指定文件的内容。我可以读取文本、图片和PDF等多种格式。

*   **`search_file_content`**:
    *   **功能**: 在文件或目录中执行快速内容搜索。它由 `ripgrep` 驱动，性能通常比系统的 `grep` 命令更好。当你需要在大代码库中找东西时，这个工具非常高效。

*   **`glob`**:
    *   **功能**: 使用模式匹配（如 `src/**/*.js`）来查找文件路径。这对于按文件名或扩展名查找文件非常有用。

*   **`replace`**:
    *   **功能**: 在文件中进行文本替换。这是一个精确的操作，需要提供足够的前后文来定位要替换的文本。

*   **`write_file`**:
    *   **功能**: 向一个文件写入内容。如果文件不存在，它会创建该文件；如果文件已存在，它会覆盖原有内容。

*   **`run_shell_command`**:
    *   **功能**: **这是我最强大和开放的工具之一**。它允许我执行你计算机上的任何 shell 命令（例如 `git status`, `npm install`, `python script.py` 等）。

*   **`save_memory`**:
    *   **功能**: 将你明确要求我记住的特定信息（例如你的偏好、习惯等）保存到我的长期记忆中，以便在未来的对话中使用。

*   **`google_web_search`**:
    *   **功能**: 使用 Google 搜索引擎进行网络搜索，以获取最新的信息或查找资料。

*   **`write_todos`**:
    *   **功能**: 为复杂的任务创建和管理一个待办事项列表（To-Do List）。这有助于我们跟踪多步骤任务的进度。
    
*   **`codebase_investigator`**:
    *   **功能**: 一个专门用于代码库分析的高级工具。当我需要理解一个项目的整体架构、依赖关系或为一个模糊的请求寻找解决方案时，我会使用它。

*   **`web_fetch`**:
    *   **功能**: 获取一个或多个 URL 指向的网页内容，我可以对其进行总结、提取或分析。

---

## 2. `!` 命令：无所不能的执行器

关于 `!` 命令能做什么，最关键的一点是：**`!` 的能力几乎是无限的，因为它直接关联到 `run_shell_command` 工具。**

让我们来分解一下：

### 2.1 `!` 作为工具执行器

`!` 的基本作用是执行你在 `/` 列表中看到的任何一个工具。

*   例如：`!write_file file_path="hello.txt" content="Hello World"` 就是在调用 `write_file` 工具。

### 2.2 `!` 作为 Shell 命令的快捷方式 (最重要的功能)

当你使用 `!` 后面直接跟一个系统命令时（例如 `!ls -l`），这实际上是 Gemini CLI 提供的一个便捷**快捷方式**。

*   `!ls -l` **等同于** `!run_shell_command command="ls -l"`。
*   `!git status` **等同于** `!run_shell_command command="git status"`。
*   `!python --version` **等同于** `!run_shell_command command="python --version"`。

这意味着，**理论上，你可以通过 `!` 执行你计算机上安装的任何命令行程序**。从 `git`、`npm`、`docker` 到 `python`、`java`，只要你的系统环境（`$PATH`）配置好了，我就可以通过 `!` 来调用它们。

### 总结 `!` 的能力：

所以，“`!` 所有能干的事情”这个问题的答案是：

1.  **执行所有内置工具**：它可以调用上面 `/` 列表中列出的所有专用工具。
2.  **执行你系统上的任何命令**：通过 `run_shell_command` 的快捷方式，它可以访问你整个操作系统的命令行能力。

这就是为什么 Gemini CLI 是一个强大的开发助手，因为它将我的智能与你本地的开发环境无缝地结合在了一起。
